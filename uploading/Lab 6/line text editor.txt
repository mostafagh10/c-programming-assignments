#include <stdio.h>
#include <stdlib.h>
#include <stdlib.h>
#include<windows.h>
#include <conio.h>
 void gotoxy(int x,int y)
{
    COORD coord= {0,0};
    coord.X=x;
    coord.Y=y;
    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),coord);
}

int main()
{
    char sentence[100],x;
    int index=0;
    while(x!=13){
        x = getch();
        sentence[index]=x;
        printf("%c",sentence[index]);
        index++;
    };
    system("cls");
    for(int j=0;j<index;j++){
        printf("%c",sentence[j]);
    }
    int col=index;
    gotoxy(col,0);
    do{
    x=getch();
    if(x==-32){
        x=getch();
    }

    else if(x==8){
            for(int i=col; i<index;i++){
                sentence[i]=sentence[i+1];
            }
            col--;
            index--;
            system("cls");
            for(int j=0;j<index;j++){
             printf("%c",sentence[j]);
            }
            gotoxy(col,0);
        }else if(x!=13){
            for(int i=index; i>=col;i--){
                sentence[i+1]=sentence[i];
            }
            sentence[col]=x;
            col++;
            index++;
             system("cls");
            for(int j=0;j<index;j++){
             printf("%c",sentence[j]);
            }
            gotoxy(col,0);
        }


     else if(x==13){
        system("cls");
         for(int j=0;j<index;j++){
        printf("%c",sentence[j]);
         }
        gotoxy(col,0);

     }

     if(x==75){
        col--;
        gotoxy(col,0);
        }
     else if(x==77){
        col++;
        gotoxy(col,0);
        }
     else  if(col==-1){
        col=0;
     }

     else if(col==index+1){
        col=index;
     }


     }while(1);
    return 0;
}

